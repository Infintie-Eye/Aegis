<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Depression Sanctuary - Aegis Community</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary-color: #6a5acd;
            --secondary-color: #87ceeb;
            --accent-color: #9370db;
            --light-color: #e6e6fa;
            --dark-color: #4b0082;
            --text-color: #333;
            --card-bg: rgba(255, 255, 255, 0.85);
            --transition: all 0.4s ease;
            --chat-bg: rgba(255, 255, 255, 0.7);
        }

        body {
            background: linear-gradient(135deg, #a1c4fd, #c2e9fb, #d4fc79, #96e6a1);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            color: var(--text-color);
            overflow-x: hidden;
            min-height: 100vh;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Vertical Navigation Bar */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            width: 80px;
            height: 100vh;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            box-shadow: 2px 0 15px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 30px;
            z-index: 1000;
            transition: var(--transition);
        }

        .navbar:hover {
            width: 100px;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 25px 0;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
        }

        .nav-item i {
            font-size: 24px;
            color: var(--primary-color);
            margin-bottom: 8px;
            transition: var(--transition);
        }

        .nav-item span {
            font-size: 12px;
            color: var(--dark-color);
            opacity: 0;
            transition: var(--transition);
        }

        .navbar:hover .nav-item span {
            opacity: 1;
        }

        .nav-item:hover i {
            color: var(--accent-color);
            transform: scale(1.2);
        }

        .nav-item.active::after {
            content: '';
            position: absolute;
            right: -20px;
            top: 50%;
            transform: translateY(-50%);
            width: 5px;
            height: 40px;
            background: var(--accent-color);
            border-radius: 5px;
        }

        /* Main Content */
        .main-content {
            margin-left: 80px;
            padding: 40px;
            min-height: 100vh;
            transition: var(--transition);
            display: flex;
            flex-direction: column;
        }

        .navbar:hover ~ .main-content {
            margin-left: 100px;
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 30px;
            position: relative;
        }

        .header h1 {
            font-size: 3rem;
            color: var(--dark-color);
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
            animation: fadeInDown 1s ease;
        }

        .header p {
            font-size: 1.1rem;
            color: var(--dark-color);
            max-width: 700px;
            margin: 0 auto;
            animation: fadeInUp 1s ease;
        }

        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* 3D Graphic Element */
        .floating-element {
            position: absolute;
            top: 50px;
            right: 100px;
            width: 200px;
            height: 200px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border-radius: 50%;
            box-shadow: 0 10px 30px rgba(106, 90, 205, 0.3);
            transform-style: preserve-3d;
            animation: float 6s ease-in-out infinite;
            z-index: -1;
        }

        .floating-element::before {
            content: '';
            position: absolute;
            top: -20px;
            left: -20px;
            right: -20px;
            bottom: -20px;
            background: linear-gradient(135deg, var(--accent-color), var(--light-color));
            border-radius: 50%;
            z-index: -1;
            filter: blur(20px);
            opacity: 0.7;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotateX(0) rotateY(0); }
            50% { transform: translateY(-20px) rotateX(10deg) rotateY(10deg); }
        }

        /* Chat Container */
        .chat-container {
            display: flex;
            flex-grow: 1;
            gap: 20px;
            margin-top: 20px;
        }

        /* Chat Sidebar */
        .chat-sidebar {
            width: 300px;
            background: var(--card-bg);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            display: flex;
            flex-direction: column;
            height: 70vh;
            transition: var(--transition);
        }

        .sidebar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }

        .sidebar-title {
            font-size: 1.3rem;
            color: var(--dark-color);
            font-weight: 600;
        }

        .online-count {
            background: var(--primary-color);
            color: white;
            border-radius: 20px;
            padding: 5px 12px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .user-list {
            overflow-y: auto;
            flex-grow: 1;
        }

        .user-item {
            display: flex;
            align-items: center;
            padding: 12px;
            border-radius: 12px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: var(--transition);
        }

        .user-item:hover {
            background: rgba(106, 90, 205, 0.1);
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            margin-right: 12px;
            position: relative;
        }

        .user-status {
            position: absolute;
            bottom: 0;
            right: 0;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #4CAF50;
            border: 2px solid white;
        }

        .user-info {
            flex-grow: 1;
        }

        .user-name {
            font-weight: 600;
            color: var(--dark-color);
            margin-bottom: 3px;
        }

        .user-message {
            font-size: 0.8rem;
            color: #666;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 180px;
        }

        .message-time {
            font-size: 0.7rem;
            color: #999;
        }

        /* Chat Main */
        .chat-main {
            flex-grow: 1;
            background: var(--card-bg);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            display: flex;
            flex-direction: column;
            height: 70vh;
            transition: var(--transition);
            transform-style: preserve-3d;
            perspective: 1000px;
        }

        .chat-header {
            padding: 20px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .chat-room-info {
            display: flex;
            align-items: center;
        }

        .chat-room-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            margin-right: 15px;
        }

        .chat-room-title {
            font-size: 1.3rem;
            color: var(--dark-color);
            font-weight: 600;
        }

        .chat-room-members {
            font-size: 0.9rem;
            color: #666;
        }

        /* Chat Messages */
        .chat-messages {
            flex-grow: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .message {
            display: flex;
            margin-bottom: 15px;
            animation: messageSlide 0.5s ease;
        }

        @keyframes messageSlide {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .message-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            margin-right: 12px;
            flex-shrink: 0;
        }

        .message-content {
            flex-grow: 1;
        }

        .message-header {
            display: flex;
            align-items: baseline;
            margin-bottom: 5px;
        }

        .message-author {
            font-weight: 600;
            color: var(--dark-color);
            margin-right: 10px;
        }

        .message-time {
            font-size: 0.8rem;
            color: #999;
        }

        .message-text {
            background: var(--chat-bg);
            padding: 12px 15px;
            border-radius: 18px;
            border-bottom-left-radius: 4px;
            display: inline-block;
            max-width: 80%;
            line-height: 1.4;
        }

        .message.own .message-text {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border-bottom-left-radius: 18px;
            border-bottom-right-radius: 4px;
        }

        .message.own {
            flex-direction: row-reverse;
        }

        .message.own .message-avatar {
            margin-right: 0;
            margin-left: 12px;
        }

        .message.own .message-header {
            justify-content: flex-end;
        }

        .message.own .message-author {
            margin-right: 0;
            margin-left: 10px;
        }

        /* Chat Input */
        .chat-input-container {
            padding: 20px;
            border-top: 1px solid rgba(0, 0, 0, 0.05);
        }

        .chat-input-form {
            display: flex;
            gap: 10px;
        }

        .chat-input {
            flex-grow: 1;
            border: none;
            border-radius: 30px;
            padding: 12px 20px;
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            font-size: 1rem;
            color: var(--text-color);
            outline: none;
            transition: var(--transition);
        }

        .chat-input:focus {
            background: rgba(255, 255, 255, 0.9);
            box-shadow: 0 0 0 2px rgba(106, 90, 205, 0.3);
        }

        .chat-send-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            cursor: pointer;
            transition: var(--transition);
            flex-shrink: 0;
        }

        .chat-send-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(106, 90, 205, 0.3);
        }

        /* 3D Card Effect */
        .card-3d {
            perspective: 1000px;
            height: 100%;
        }

        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.8s;
            transform-style: preserve-3d;
        }

        /* Resources Section */
        .resources-section {
            margin-top: 30px;
            background: var(--card-bg);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        .resources-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .resources-icon {
            font-size: 1.5rem;
            color: var(--primary-color);
            margin-right: 15px;
        }

        .resources-title {
            font-size: 1.3rem;
            color: var(--dark-color);
            font-weight: 600;
        }

        .resources-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .resource-card {
            background: rgba(255, 255, 255, 0.5);
            border-radius: 15px;
            padding: 15px;
            display: flex;
            align-items: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .resource-card:hover {
            background: rgba(255, 255, 255, 0.8);
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .resource-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            margin-right: 15px;
        }

        .resource-info {
            flex-grow: 1;
        }

        .resource-title {
            font-weight: 600;
            color: var(--dark-color);
            margin-bottom: 3px;
        }

        .resource-description {
            font-size: 0.8rem;
            color: #666;
        }

        /* Notification Badge */
        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #ff4757;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: bold;
        }

        /* Responsive Design */
        @media (max-width: 992px) {
            .navbar {
                width: 70px;
            }
            
            .navbar:hover {
                width: 90px;
            }
            
            .main-content {
                margin-left: 70px;
            }
            
            .navbar:hover ~ .main-content {
                margin-left: 90px;
            }
            
            .header h1 {
                font-size: 2.5rem;
            }
            
            .floating-element {
                width: 150px;
                height: 150px;
                right: 50px;
            }
            
            .chat-sidebar {
                width: 250px;
            }
        }

        @media (max-width: 768px) {
            .navbar {
                width: 60px;
                flex-direction: row;
                height: 70px;
                width: 100%;
                top: auto;
                bottom: 0;
                left: 0;
                right: 0;
                padding-top: 0;
                justify-content: space-around;
            }
            
            .navbar:hover {
                width: 100%;
            }
            
            .nav-item {
                flex-direction: row;
                margin: 0;
            }
            
            .nav-item i {
                margin-bottom: 0;
                margin-right: 5px;
            }
            
            .nav-item span {
                display: none;
            }
            
            .main-content {
                margin-left: 0;
                margin-bottom: 80px;
                padding: 20px;
            }
            
            .navbar:hover ~ .main-content {
                margin-left: 0;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .floating-element {
                display: none;
            }
            
            .chat-container {
                flex-direction: column;
            }
            
            .chat-sidebar {
                width: 100%;
                height: 200px;
            }
            
            .chat-main {
                height: 60vh;
            }
        }

        /* Interactive Elements */
        .interactive-element {
            position: fixed;
            border-radius: 50%;
            pointer-events: none;
            z-index: 1;
            opacity: 0.5;
            background: radial-gradient(circle, var(--primary-color), transparent);
        }

        /* Typing Indicator */
        .typing-indicator {
            display: flex;
            align-items: center;
            padding: 10px 15px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 18px;
            width: fit-content;
            margin-bottom: 15px;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--primary-color);
            margin: 0 2px;
            animation: typing 1.4s infinite;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {
            0%, 60%, 100% {
                transform: translateY(0);
            }
            30% {
                transform: translateY(-10px);
            }
        }
    </style>
    <script type="module" src="../js/authguard.js"></script>
</head>
<body>
    <!-- Vertical Navigation Bar -->
    <nav class="navbar">
        <div class="nav-item">
            <i class="fas fa-home"></i>
            <span>Home</span>
        </div>
        <div class="nav-item">
            <i class="fas fa-robot"></i>
            <span>AI Companion</span>
        </div>
        <div class="nav-item active">
            <i class="fas fa-users"></i>
            <span>Community</span>
            <div class="notification-badge">3</div>
        </div>
        <div class="nav-item">
            <i class="fas fa-user"></i>
            <span>Profile</span>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- 3D Graphic Element -->
        <div class="floating-element"></div>

        <!-- Header -->
        <header class="header">
            <h1>Depression Sanctuary</h1>
            <p>A safe space to share experiences, find support, and connect with others who understand your journey.</p>
        </header>

        <!-- Chat Container -->
        <div class="chat-container">
            <!-- Chat Sidebar -->
            <div class="chat-sidebar">
                <div class="sidebar-header">
                    <div class="sidebar-title">Community Members</div>
                    <div class="online-count">37 Online</div>
                </div>
                <div class="user-list">
                    <div class="user-item">
                        <div class="user-avatar">
                            A
                            <div class="user-status"></div>
                        </div>
                        <div class="user-info">
                            <div class="user-name">Anonymous User</div>
                            <div class="user-message">Thank you for listening</div>
                        </div>
                        <div class="message-time">2m ago</div>
                    </div>
                    <div class="user-item">
                        <div class="user-avatar">
                            B
                            <div class="user-status"></div>
                        </div>
                        <div class="user-info">
                            <div class="user-name">Anonymous User</div>
                            <div class="user-message">Today was a good day</div>
                        </div>
                        <div class="message-time">5m ago</div>
                    </div>
                    <div class="user-item">
                        <div class="user-avatar">
                            C
                            <div class="user-status"></div>
                        </div>
                        <div class="user-info">
                            <div class="user-name">Anonymous User</div>
                            <div class="user-message">Has anyone tried meditation?</div>
                        </div>
                        <div class="message-time">12m ago</div>
                    </div>
                    <div class="user-item">
                        <div class="user-avatar">
                            D
                            <div class="user-status"></div>
                        </div>
                        <div class="user-info">
                            <div class="user-name">Anonymous User</div>
                            <div class="user-message">Feeling better today</div>
                        </div>
                        <div class="message-time">18m ago</div>
                    </div>
                    <div class="user-item">
                        <div class="user-avatar">
                            E
                            <div class="user-status"></div>
                        </div>
                        <div class="user-info">
                            <div class="user-name">Anonymous User</div>
                            <div class="user-message">Thanks for the support</div>
                        </div>
                        <div class="message-time">25m ago</div>
                    </div>
                </div>
            </div>

            <!-- Chat Main -->
            <div class="chat-main">
                <div class="chat-header">
                    <div class="chat-room-info">
                        <div class="chat-room-icon">
                            <i class="fas fa-cloud-rain"></i>
                        </div>
                        <div>
                            <div class="chat-room-title">Depression Support Group</div>
                            <div class="chat-room-members">2.8K members â€¢ 37 online</div>
                        </div>
                    </div>
                </div>

                <div class="chat-messages" id="chatMessages">
                    <div class="message">
                        <div class="message-avatar">A</div>
                        <div class="message-content">
                            <div class="message-header">
                                <div class="message-author">Anonymous User</div>
                                <div class="message-time">10:30 AM</div>
                            </div>
                            <div class="message-text">Hi everyone, I'm new here. I've been struggling with depression for a while and thought I'd reach out for support.</div>
                        </div>
                    </div>

                    <div class="message">
                        <div class="message-avatar">B</div>
                        <div class="message-content">
                            <div class="message-header">
                                <div class="message-author">Anonymous User</div>
                                <div class="message-time">10:32 AM</div>
                            </div>
                            <div class="message-text">Welcome! You've come to the right place. This community has been incredibly supportive for me.</div>
                        </div>
                    </div>

                    <div class="message">
                        <div class="message-avatar">C</div>
                        <div class="message-content">
                            <div class="message-header">
                                <div class="message-author">Anonymous User</div>
                                <div class="message-time">10:35 AM</div>
                            </div>
                            <div class="message-text">It's brave of you to reach out. Remember, you're not alone in this. We're all here to support each other.</div>
                        </div>
                    </div>

                    <div class="message own">
                        <div class="message-avatar">Y</div>
                        <div class="message-content">
                            <div class="message-header">
                                <div class="message-time">10:40 AM</div>
                                <div class="message-author">You</div>
                            </div>
                            <div class="message-text">Thank you for the warm welcome. It's comforting to know there are others who understand.</div>
                        </div>
                    </div>

                    <div class="message">
                        <div class="message-avatar">D</div>
                        <div class="message-content">
                            <div class="message-header">
                                <div class="message-author">Anonymous User</div>
                                <div class="message-time">10:42 AM</div>
                            </div>
                            <div class="message-text">Absolutely. We all have our good days and bad days. What helps me is talking about it and not keeping it bottled up.</div>
                        </div>
                    </div>

                    <div class="typing-indicator">
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                    </div>
                </div>

                <div class="chat-input-container">
                    <form class="chat-input-form" id="chatForm">
                        <input type="text" class="chat-input" id="chatInput" placeholder="Type a message...">
                        <button type="submit" class="chat-send-btn">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Resources Section -->
        <div class="resources-section">
            <div class="resources-header">
                <div class="resources-icon">
                    <i class="fas fa-book"></i>
                </div>
                <div class="resources-title">Helpful Resources</div>
            </div>
            <div class="resources-grid">
                <div class="resource-card">
                    <div class="resource-icon">
                        <i class="fas fa-headphones"></i>
                    </div>
                    <div class="resource-info">
                        <div class="resource-title">Guided Meditation</div>
                        <div class="resource-description">Mindfulness exercises for mental wellness</div>
                    </div>
                </div>
                <div class="resource-card">
                    <div class="resource-icon">
                        <i class="fas fa-book-open"></i>
                    </div>
                    <div class="resource-info">
                        <div class="resource-title">Coping Strategies</div>
                        <div class="resource-description">Practical techniques for difficult days</div>
                    </div>
                </div>
                <div class="resource-card">
                    <div class="resource-icon">
                        <i class="fas fa-user-md"></i>
                    </div>
                    <div class="resource-info">
                        <div class="resource-title">Professional Help</div>
                        <div class="resource-description">Find therapists and counselors</div>
                    </div>
                </div>
                <div class="resource-card">
                    <div class="resource-icon">
                        <i class="fas fa-calendar-alt"></i>
                    </div>
                    <div class="resource-info">
                        <div class="resource-title">Support Groups</div>
                        <div class="resource-description">Local and virtual meeting options</div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        // Interactive Elements
        document.addEventListener('DOMContentLoaded', function() {
            // Create interactive elements that follow the cursor
            const body = document.body;
            
            document.addEventListener('mousemove', function(e) {
                if (Math.random() > 0.95) {
                    createInteractiveElement(e.clientX, e.clientY);
                }
            });
            
            function createInteractiveElement(x, y) {
                const element = document.createElement('div');
                element.classList.add('interactive-element');
                
                const size = Math.random() * 20 + 5;
                element.style.width = `${size}px`;
                element.style.height = `${size}px`;
                element.style.left = `${x - size/2}px`;
                element.style.top = `${y - size/2}px`;
                
                body.appendChild(element);
                
                // Animate the element
                setTimeout(() => {
                    element.style.transform = `scale(${Math.random() * 5 + 2})`;
                    element.style.opacity = '0';
                }, 10);
                
                // Remove the element after animation
                setTimeout(() => {
                    element.remove();
                }, 1000);
            }
            
            // Chat functionality
            const chatForm = document.getElementById('chatForm');
            const chatInput = document.getElementById('chatInput');
            const chatMessages = document.getElementById('chatMessages');
            
            // Sample anonymous usernames
            const anonymousUsers = [
                'Anonymous User', 'Silent Listener', 'Hopeful Soul', 
                'Peace Seeker', 'Kind Spirit', 'Gentle Voice'
            ];
            
            // Sample messages
            const sampleMessages = [
                "I'm here for you. We all go through tough times.",
                "Have you tried journaling? It helps me process my thoughts.",
                "Remember to be kind to yourself today.",
                "Small steps are still progress. Celebrate them!",
                "Would anyone like to share what helped them today?",
                "Sometimes just getting out of bed is a victory.",
                "I'm having a rough day, but reading your messages helps.",
                "Thank you all for creating such a supportive space."
            ];
            
            // Function to add a message to the chat
            function addMessage(text, isOwn = false) {
                // Remove typing indicator if it exists
                const typingIndicator = document.querySelector('.typing-indicator');
                if (typingIndicator) {
                    typingIndicator.remove();
                }
                
                const messageDiv = document.createElement('div');
                messageDiv.classList.add('message');
                if (isOwn) {
                    messageDiv.classList.add('own');
                }
                
                const avatar = document.createElement('div');
                avatar.classList.add('message-avatar');
                avatar.textContent = isOwn ? 'Y' : anonymousUsers[Math.floor(Math.random() * anonymousUsers.length)].charAt(0);
                
                const content = document.createElement('div');
                content.classList.add('message-content');
                
                const header = document.createElement('div');
                header.classList.add('message-header');
                
                const author = document.createElement('div');
                author.classList.add('message-author');
                author.textContent = isOwn ? 'You' : anonymousUsers[Math.floor(Math.random() * anonymousUsers.length)];
                
                const time = document.createElement('div');
                time.classList.add('message-time');
                const now = new Date();
                time.textContent = now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
                
                header.appendChild(isOwn ? time : author);
                header.appendChild(isOwn ? author : time);
                
                const messageText = document.createElement('div');
                messageText.classList.add('message-text');
                messageText.textContent = text;
                
                content.appendChild(header);
                content.appendChild(messageText);
                
                messageDiv.appendChild(avatar);
                messageDiv.appendChild(content);
                
                chatMessages.appendChild(messageDiv);
                
                // Scroll to bottom
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
            
            // Handle form submission
            chatForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const messageText = chatInput.value.trim();
                if (messageText) {
                    addMessage(messageText, true);
                    chatInput.value = '';
                    
                    // Simulate a response after a delay
                    setTimeout(() => {
                        // Add typing indicator
                        const typingDiv = document.createElement('div');
                        typingDiv.classList.add('typing-indicator');
                        typingDiv.innerHTML = `
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                        `;
                        chatMessages.appendChild(typingDiv);
                        chatMessages.scrollTop = chatMessages.scrollHeight;
                        
                        // Remove typing indicator and add message after another delay
                        setTimeout(() => {
                            const randomMessage = sampleMessages[Math.floor(Math.random() * sampleMessages.length)];
                            addMessage(randomMessage);
                        }, 2000);
                    }, 1000);
                }
            });
            
            // Navbar interaction
            const navItems = document.querySelectorAll('.nav-item');
            
            navItems.forEach(item => {
                item.addEventListener('click', function() {
                    // Remove active class from all items
                    navItems.forEach(navItem => {
                        navItem.classList.remove('active');
                    });
                    
                    // Add active class to clicked item
                    this.classList.add('active');
                    
                    // Get the navigation text
                    const navText = this.querySelector('span').textContent;
                    console.log(`Navigating to ${navText}`);
                    // Here you would typically handle navigation
                });
            });
            
            // User item interaction
            const userItems = document.querySelectorAll('.user-item');
            
            userItems.forEach(item => {
                item.addEventListener('click', function() {
                    // Remove active class from all items
                    userItems.forEach(userItem => {
                        userItem.style.background = '';
                    });
                    
                    // Add background to clicked item
                    this.style.background = 'rgba(106, 90, 205, 0.1)';
                });
            });
            
            // Resource card interaction
            const resourceCards = document.querySelectorAll('.resource-card');
            
            resourceCards.forEach(card => {
                card.addEventListener('click', function() {
                    const title = this.querySelector('.resource-title').textContent;
                    console.log(`Opening ${title} resource`);
                    // Here you would typically open the resource
                });
            });
        });
    </script>
</body>
</html>