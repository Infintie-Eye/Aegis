<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Academic Stress Sanctuary - Aegis Community</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary-color: #6a5acd;
            --secondary-color: #87ceeb;
            --accent-color: #9370db;
            --light-color: #e6e6fa;
            --dark-color: #4b0082;
            --text-color: #333;
            --card-bg: rgba(255, 255, 255, 0.85);
            --transition: all 0.4s ease;
        }

        body {
            background: linear-gradient(135deg, #a1c4fd, #c2e9fb, #d4fc79, #96e6a1);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            color: var(--text-color);
            overflow-x: hidden;
            min-height: 100vh;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Vertical Navigation Bar */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            width: 80px;
            height: 100vh;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            box-shadow: 2px 0 15px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 30px;
            z-index: 1000;
            transition: var(--transition);
        }

        .navbar:hover {
            width: 100px;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 25px 0;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
        }

        .nav-item i {
            font-size: 24px;
            color: var(--primary-color);
            margin-bottom: 8px;
            transition: var(--transition);
        }

        .nav-item span {
            font-size: 12px;
            color: var(--dark-color);
            opacity: 0;
            transition: var(--transition);
        }

        .navbar:hover .nav-item span {
            opacity: 1;
        }

        .nav-item:hover i {
            color: var(--accent-color);
            transform: scale(1.2);
        }

        .nav-item.active::after {
            content: '';
            position: absolute;
            right: -20px;
            top: 50%;
            transform: translateY(-50%);
            width: 5px;
            height: 40px;
            background: var(--accent-color);
            border-radius: 5px;
        }

        /* Main Content */
        .main-content {
            margin-left: 80px;
            padding: 40px;
            min-height: 100vh;
            transition: var(--transition);
        }

        .navbar:hover ~ .main-content {
            margin-left: 100px;
        }

        /* Community Header */
        .community-header {
            display: flex;
            align-items: center;
            margin-bottom: 30px;
            position: relative;
        }

        .community-icon {
            font-size: 3rem;
            color: var(--primary-color);
            margin-right: 20px;
            background: rgba(255, 255, 255, 0.7);
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 10px 20px rgba(106, 90, 205, 0.2);
        }

        .community-info h1 {
            font-size: 2.5rem;
            color: var(--dark-color);
            margin-bottom: 10px;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
        }

        .community-info p {
            font-size: 1.1rem;
            color: var(--dark-color);
            max-width: 600px;
        }

        .community-stats {
            display: flex;
            margin-left: auto;
            gap: 20px;
        }

        .stat-box {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 15px;
            text-align: center;
            min-width: 100px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: var(--transition);
        }

        .stat-box:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--primary-color);
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--text-color);
        }

        /* 3D Visual Element */
        .floating-element {
            position: absolute;
            top: -50px;
            right: 50px;
            width: 250px;
            height: 250px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border-radius: 50%;
            box-shadow: 0 15px 35px rgba(106, 90, 205, 0.3);
            transform-style: preserve-3d;
            animation: float 8s ease-in-out infinite;
            z-index: -1;
        }

        .floating-element::before {
            content: '';
            position: absolute;
            top: -30px;
            left: -30px;
            right: -30px;
            bottom: -30px;
            background: linear-gradient(135deg, var(--accent-color), var(--light-color));
            border-radius: 50%;
            z-index: -1;
            filter: blur(25px);
            opacity: 0.7;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotateX(0) rotateY(0); }
            50% { transform: translateY(-30px) rotateX(15deg) rotateY(15deg); }
        }

        /* Chat Container */
        .chat-container {
            display: flex;
            gap: 30px;
            margin-top: 40px;
        }

        .chat-sidebar {
            width: 300px;
            background: var(--card-bg);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            height: 70vh;
            overflow-y: auto;
            transition: var(--transition);
        }

        .chat-sidebar h3 {
            color: var(--dark-color);
            margin-bottom: 20px;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
        }

        .chat-sidebar h3 i {
            margin-right: 10px;
            color: var(--primary-color);
        }

        .resource-item {
            background: rgba(255, 255, 255, 0.7);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 15px;
            cursor: pointer;
            transition: var(--transition);
            border-left: 4px solid var(--primary-color);
        }

        .resource-item:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .resource-title {
            font-weight: 600;
            color: var(--dark-color);
            margin-bottom: 5px;
        }

        .resource-desc {
            font-size: 0.9rem;
            color: var(--text-color);
        }

        .chat-main {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .chat-box {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .chat-header {
            display: flex;
            align-items: center;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            margin-bottom: 20px;
        }

        .chat-status {
            display: flex;
            align-items: center;
            margin-left: 15px;
        }

        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #4CAF50;
            margin-right: 8px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(76, 175, 80, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(76, 175, 80, 0); }
            100% { box-shadow: 0 0 0 0 rgba(76, 175, 80, 0); }
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px 0;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .message {
            display: flex;
            align-items: flex-start;
            margin-bottom: 15px;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .message-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            margin-right: 15px;
            flex-shrink: 0;
        }

        .message-content {
            background: rgba(255, 255, 255, 0.7);
            border-radius: 18px;
            padding: 15px;
            max-width: 70%;
            position: relative;
        }

        .message-username {
            font-weight: 600;
            color: var(--dark-color);
            margin-bottom: 5px;
        }

        .message-text {
            color: var(--text-color);
            line-height: 1.5;
        }

        .message-time {
            font-size: 0.75rem;
            color: #888;
            margin-top: 5px;
            text-align: right;
        }

        .message.own {
            flex-direction: row-reverse;
        }

        .message.own .message-avatar {
            margin-right: 0;
            margin-left: 15px;
            background: linear-gradient(135deg, var(--accent-color), var(--dark-color));
        }

        .message.own .message-content {
            background: linear-gradient(135deg, rgba(147, 112, 219, 0.2), rgba(75, 0, 130, 0.2));
            border-bottom-right-radius: 0;
        }

        .message:not(.own) .message-content {
            border-bottom-left-radius: 0;
        }

        .chat-input-container {
            display: flex;
            align-items: center;
            padding-top: 20px;
            border-top: 1px solid rgba(0, 0, 0, 0.05);
        }

        .chat-input {
            flex: 1;
            background: rgba(255, 255, 255, 0.7);
            border: none;
            border-radius: 30px;
            padding: 15px 20px;
            font-size: 1rem;
            color: var(--text-color);
            outline: none;
            transition: var(--transition);
        }

        .chat-input:focus {
            box-shadow: 0 0 0 3px rgba(106, 90, 205, 0.3);
        }

        .send-button {
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-left: 15px;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 5px 15px rgba(106, 90, 205, 0.3);
        }

        .send-button:hover {
            background: var(--accent-color);
            transform: scale(1.05);
        }

        /* 3D Card Effect */
        .card-3d {
            perspective: 1000px;
            height: 100%;
        }

        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.8s;
            transform-style: preserve-3d;
        }

        /* Responsive Design */
        @media (max-width: 992px) {
            .navbar {
                width: 70px;
            }
            
            .navbar:hover {
                width: 90px;
            }
            
            .main-content {
                margin-left: 70px;
            }
            
            .navbar:hover ~ .main-content {
                margin-left: 90px;
            }
            
            .community-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .community-stats {
                margin-top: 20px;
                margin-left: 0;
            }
            
            .floating-element {
                width: 200px;
                height: 200px;
                right: 20px;
            }
        }

        @media (max-width: 768px) {
            .main-content {
                margin-left: 0;
                padding: 30px 20px;
            }
            
            .chat-container {
                flex-direction: column;
            }
            
            .chat-sidebar {
                width: 100%;
                height: auto;
                margin-bottom: 20px;
            }
            
            .floating-element {
                display: none;
            }
        }

        /* Interactive Elements */
        .interactive-element {
            position: fixed;
            border-radius: 50%;
            pointer-events: none;
            z-index: 1;
            opacity: 0.5;
            background: radial-gradient(circle, var(--primary-color), transparent);
        }

        /* Notification Badge */
        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #ff4757;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: bold;
        }

        /* 3D Visual Elements */
        .visual-element {
            position: absolute;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            box-shadow: 0 10px 30px rgba(106, 90, 205, 0.3);
            transform-style: preserve-3d;
            animation: float 8s ease-in-out infinite;
            z-index: -1;
        }

        .visual-element-1 {
            width: 100px;
            height: 100px;
            top: 20%;
            right: 10%;
            animation-delay: 0s;
        }

        .visual-element-2 {
            width: 70px;
            height: 70px;
            bottom: 30%;
            left: 5%;
            animation-delay: 2s;
        }

        .visual-element-3 {
            width: 120px;
            height: 120px;
            bottom: 10%;
            right: 15%;
            animation-delay: 4s;
        }

        /* Scrollbar Styling */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--accent-color);
        }
    </style>
    <script type="module" src="../js/authguard.js"></script>

</head>
<body>
    <!-- 3D Visual Elements -->
    <div class="visual-element visual-element-1"></div>
    <div class="visual-element visual-element-2"></div>
    <div class="visual-element visual-element-3"></div>

    <!-- Vertical Navigation Bar -->
    <nav class="navbar">
        <div class="nav-item">
            <i class="fas fa-home"></i>
            <span>Home</span>
        </div>
        <div class="nav-item">
            <i class="fas fa-robot"></i>
            <span>AI Companion</span>
        </div>
        <div class="nav-item active">
            <i class="fas fa-users"></i>
            <span>Community</span>
            <div class="notification-badge">3</div>
        </div>
        <div class="nav-item">
            <i class="fas fa-user"></i>
            <span>Profile</span>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Community Header -->
        <div class="community-header">
            <div class="community-icon">
                <i class="fas fa-graduation-cap"></i>
            </div>
            <div class="community-info">
                <h1>Academic Stress Sanctuary</h1>
                <p>A supportive space for students dealing with academic pressure, exam anxiety, and educational challenges.</p>
            </div>
            <div class="community-stats">
                <div class="stat-box">
                    <div class="stat-value">1.2K</div>
                    <div class="stat-label">Members</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value">24</div>
                    <div class="stat-label">Online</div>
                </div>
            </div>
            <!-- 3D Graphic Element -->
            <div class="floating-element"></div>
        </div>

        <!-- Chat Container -->
        <div class="chat-container">
            <!-- Chat Sidebar -->
            <div class="chat-sidebar">
                <h3><i class="fas fa-book"></i> Resources</h3>
                <div class="resource-item">
                    <div class="resource-title">Study Techniques</div>
                    <div class="resource-desc">Effective methods to improve retention and reduce study time</div>
                </div>
                <div class="resource-item">
                    <div class="resource-title">Exam Anxiety Guide</div>
                    <div class="resource-desc">Strategies to manage stress during exams and presentations</div>
                </div>
                <div class="resource-item">
                    <div class="resource-title">Time Management</div>
                    <div class="resource-desc">Tools and techniques to balance academics and personal life</div>
                </div>
                <div class="resource-item">
                    <div class="resource-title">Mindfulness for Students</div>
                    <div class="resource-desc">Simple practices to stay calm and focused during stressful periods</div>
                </div>
                <div class="resource-item">
                    <div class="resource-title">Peer Support Groups</div>
                    <div class="resource-desc">Connect with study buddies for mutual support</div>
                </div>
            </div>

            <!-- Chat Main -->
            <div class="chat-main">
                <div class="chat-box">
                    <div class="chat-header">
                        <h2>Community Chat</h2>
                        <div class="chat-status">
                            <div class="status-indicator"></div>
                            <span>24 members online</span>
                        </div>
                    </div>

                    <div class="chat-messages" id="chatMessages">
                        <!-- Messages will be added here dynamically -->
                    </div>

                    <div class="chat-input-container">
                        <input type="text" class="chat-input" id="messageInput" placeholder="Share your thoughts...">
                        <button class="send-button" id="sendButton">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Interactive Elements
            const body = document.body;
            
            document.addEventListener('mousemove', function(e) {
                if (Math.random() > 0.95) {
                    createInteractiveElement(e.clientX, e.clientY);
                }
            });
            
            function createInteractiveElement(x, y) {
                const element = document.createElement('div');
                element.classList.add('interactive-element');
                
                const size = Math.random() * 20 + 5;
                element.style.width = `${size}px`;
                element.style.height = `${size}px`;
                element.style.left = `${x - size/2}px`;
                element.style.top = `${y - size/2}px`;
                
                body.appendChild(element);
                
                // Animate the element
                setTimeout(() => {
                    element.style.transform = `scale(${Math.random() * 5 + 2})`;
                    element.style.opacity = '0';
                }, 10);
                
                // Remove the element after animation
                setTimeout(() => {
                    element.remove();
                }, 1000);
            }
            
            // Navbar interaction
            const navItems = document.querySelectorAll('.nav-item');
            
            navItems.forEach(item => {
                item.addEventListener('click', function() {
                    // Remove active class from all items
                    navItems.forEach(navItem => {
                        navItem.classList.remove('active');
                    });
                    
                    // Add active class to clicked item
                    this.classList.add('active');
                    
                    // Get the navigation text
                    const navText = this.querySelector('span').textContent;
                    console.log(`Navigating to ${navText}`);
                    // Here you would typically handle navigation
                });
            });

            // Chat functionality
            const chatMessages = document.getElementById('chatMessages');
            const messageInput = document.getElementById('messageInput');
            const sendButton = document.getElementById('sendButton');
            
            // Sample initial messages
            const initialMessages = [
                { username: 'Student123', text: 'Hey everyone, I have finals next week and I\'m already stressing out.', time: '10:30 AM', own: false },
                { username: 'You', text: 'I feel you! I have three exams in one day.', time: '10:32 AM', own: true },
                { username: 'AnonStudent', text: 'Does anyone have tips for managing exam anxiety?', time: '10:35 AM', own: false },
                { username: 'StudyBuddy', text: 'I found that the Pomodoro technique really helps me stay focused without burning out.', time: '10:40 AM', own: false }
            ];
            
            // Add initial messages to chat
            initialMessages.forEach(message => {
                addMessage(message.username, message.text, message.time, message.own);
            });
            
            // Function to add a message to the chat
            function addMessage(username, text, time, isOwn = false) {
                const messageElement = document.createElement('div');
                messageElement.classList.add('message');
                if (isOwn) {
                    messageElement.classList.add('own');
                }
                
                // Generate avatar with first letter of username
                const avatarLetter = username.charAt(0).toUpperCase();
                
                messageElement.innerHTML = `
                    <div class="message-avatar">${avatarLetter}</div>
                    <div class="message-content">
                        <div class="message-username">${username}</div>
                        <div class="message-text">${text}</div>
                        <div class="message-time">${time}</div>
                    </div>
                `;
                
                chatMessages.appendChild(messageElement);
                
                // Scroll to bottom
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
            
            // Function to send a message
            function sendMessage() {
                const messageText = messageInput.value.trim();
                if (messageText === '') return;
                
                // Get current time
                const now = new Date();
                const timeString = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
                
                // Add message to chat
                addMessage('You', messageText, timeString, true);
                
                // Clear input
                messageInput.value = '';
                
                // Simulate response after a delay
                setTimeout(() => {
                    const responses = [
                        "I completely understand what you're going through.",
                        "Have you tried any relaxation techniques?",
                        "Remember to take breaks and not overwork yourself.",
                        "You're not alone in this, we're all here to support each other.",
                        "Small steps forward are still progress. Be proud of yourself!"
                    ];
                    
                    const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                    const randomUsername = `Anon${Math.floor(Math.random() * 1000)}`;
                    
                    addMessage(randomUsername, randomResponse, timeString, false);
                }, 1000 + Math.random() * 2000);
            }
            
            // Event listeners for sending messages
            sendButton.addEventListener('click', sendMessage);
            
            messageInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });
            
            // Resource item click
            const resourceItems = document.querySelectorAll('.resource-item');
            resourceItems.forEach(item => {
                item.addEventListener('click', function() {
                    const title = this.querySelector('.resource-title').textContent;
                    console.log(`Opening resource: ${title}`);
                    // Here you would typically open the resource
                });
            });
        });
    </script>
</body>
</html>